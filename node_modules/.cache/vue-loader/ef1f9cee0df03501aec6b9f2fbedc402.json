{"remainingRequest":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grgr/Projects/tapstr/tapstr-web-app_current/src/components/UserAccount.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/src/components/UserAccount.vue","mtime":1560697441638},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#userAccountSection {\n    background-color: #e3e3e3;\n    z-index: 100;\n}\n\n#userAccountInfo {\n    padding: 12px;\n    box-shadow: 0 0 10px #a0a0a0;\n    background-color: #cecece;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n}\n",{"version":3,"sources":["UserAccount.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserAccount.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <b-container fluid id=\"userAccountSection\" style=\"width: 100vw;\">\n            <b-row>\n                <b-col cols=\"4\" align-self=\"center\">\n                    <img id=\"userPicture\" style=\"width: 128px; height: 128px;\" src=\"https://tapstr-files.s3.eu-central-1.amazonaws.com/images/menu/oranges.jpg\" alt=\"User Picture\" class=\"m-2\">\n                </b-col>\n                <b-col cols=\"4\" >\n                    <div id=\"userAccountInfo\" align-self=\"center\">\n                        <p contenteditable=\"true\" id=\"userName\" class=\"m-2\">{{ user.name }}</p>\n                        <b-form-input v-model=\"user.email\" placeholder=\"Email\" class=\"rounded-pill m-4 w-75\"></b-form-input>\n                        <b-form-input type=\"password\" placeholder=\"Current password\" class=\"rounded-pill mt-4 w-75\"></b-form-input>\n                        <b-form-input type=\"password\" placeholder=\"New password\" class=\"rounded-pill mt-4 w-75\"></b-form-input>\n                        <b-form-input type=\"password\" placeholder=\"Repeat password\" class=\"rounded-pill mt-2 mb-4 w-75\"></b-form-input>\n                        <b-form-input v-model=\"user.phone_number\" placeholder=\"Mobile phone\" class=\"rounded-pill m-4 w-75\"></b-form-input>\n                        <b-form-input v-model=\"user.city\" placeholder=\"City\" class=\"rounded-pill m-4 w-75\">{{ user.city }}</b-form-input>\n                        <b-button class=\"rounded-pill m-4 \">Save changes</b-button>\n                    </div>\n                </b-col>\n                <b-col cols=\"4\" style=\"padding: 24px;\">\n                    <a @click=\"$router.go(-1)\"><font-awesome-icon icon=\"times\"/></a>\n                </b-col>\n            </b-row>\n    </b-container>\n</template>\n\n\n<script>\nimport axios from 'axios'\nimport { Auth } from 'aws-amplify'\nimport { AmplifyEventBus } from 'aws-amplify-vue'\n\nexport default {\n    name: 'UserAccount',\n    data: function() {\n        return {\n            isLoading: false,\n\n            user: {\n                name: \"Foody Fooderson\",\n                email: \"boris@borya.com\",\n                phone_number: \"8789\",\n                city: \"Warsaw\"\n            },\n        }\n    },\n    computed: {\n        userClient() { return this.$store.getters.userClient },\n        userSession() { return this.$store.getters.userSession },\n        userEmail() { return this.$store.getters.isUserSignedIn ? this.$store.getters.userClient.attributes.email : \"foody@fooderson.fo\"},\n        userPhoneNumber() { return this.$store.getters.isUserSignedIn ? this.$store.getters.userClient.attributes.phone_number : \"empty\"},\n    },\n    created() {\n        this.user.email = this.userEmail;\n        this.user.phone_number = this.userPhoneNumber;\n    },\n    methods: {\n           submitUserData() {\n                var that = this;\n                that.isLoading = true;\n\n                var headers = {\n                    'Content-Type': 'application/json',\n                    'Authorization': this.userSession.getIdToken().getJwtToken(),\n                }\n\n                axios.post('https://axqeajmn83.execute-api.eu-central-1.amazonaws.com/dev/user-profile', that.user, { headers: headers })\n                    .then((response) => {\n                        that.isLoading = false;\n                        console.log(response);\n                    });\n                },\n            getUserData() {\n                var that = this;\n\n                var headers = {\n                    'Content-Type': 'application/json',\n                    'Authorization': this.userSession.getIdToken().getJwtToken(),\n                };\n\n                axios.get('https://axqeajmn83.execute-api.eu-central-1.amazonaws.com/dev/user-profile?accessToken='\n                + this.userSession.getAccessToken().getJwtToken(), { headers: headers })\n                    .then((response) => {\n                        console.log(response.data);\n                    });\n            },\n            async deleteUserData() {\n                 var headers = {\n                    'Content-Type': 'application/json',\n                    'Authorization': this.userSession.getIdToken().getJwtToken(),\n                };\n\n                axios.delete('https://axqeajmn83.execute-api.eu-central-1.amazonaws.com/dev/user-profile?accessToken='\n                + this.userSession.getAccessToken().getJwtToken(), { headers: headers })\n                    .then((response) => { console.log(response.data) });\n\n\n                this.$store.commit('changeUserClient', undefined);\n                this.$store.commit('changeUserSession', undefined);\n\n                console.log(await Auth.signOut());\n            }\n    }\n};\n</script>\n\n\n<style>\n#userAccountSection {\n    background-color: #e3e3e3;\n    z-index: 100;\n}\n\n#userAccountInfo {\n    padding: 12px;\n    box-shadow: 0 0 10px #a0a0a0;\n    background-color: #cecece;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n}\n</style>\n"]}]}