{"remainingRequest":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grgr/Projects/tapstr/tapstr-web-app_current/src/components/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/src/components/Search.vue","mtime":1560684718993},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nimport Fuse from 'fuse.js'\n\nexport default {\n    name: \"SearchPanel\",\n    data: function () {\n        return {\n            visible: true,\n            search: '',\n            results: [],\n            filteredResults: [],\n            searchResultsVisible: false,\n            }\n    },\n    methods: {\n        hide: function() {\n            this.visible = false;\n        },\n        show: function() {\n            this.visible = true;\n        },\n\n        filterResults: function() {\n            var fuseOptions = {\n                keys: [{\n                    name: 'name',\n                    weight: 1\n                },\n                {\n                    name: 'cuisine',\n                    weight: 0.5\n                }]\n            }\n            var fuse = new Fuse(this.results, fuseOptions)\n            this.filteredResults = fuse.search(this.search)\n        },\n\n    },\n    mounted: function() {\n           axios.get('http://127.0.0.1:8000/api/restaurants/')\n                .then((response) => {\n                    this.results = response.data.results;\n                });\n    },\n};\n",{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div id=\"search-panel\">\n    <div class=\"search-wrapper\">\n        <transition name=\"slide\">\n            <b-input class=\"\" type=\"text\" v-model=\"search\" placeholder=\"Search restaurants\"\n            @focus=\"searchResultsVisible = true\" @blur=\"searchResultsVisible = false\"\n            @keydown=\"filterResults()\" class=\"\"   />\n        </transition>\n    </div>\n    <transition name=\"slide\">\n        <div v-if=\"this.searchResultsVisible\" class=\"result-wrapper\">\n            <transition name=\"fade\">\n            <div v-for=\"result in filteredResults\" v-bind:key=\"result.id\">\n                <a target=\"_blank\">\n                <small>{{ result.name }}</small>\n                {{ result.rating_text }}\n                </a>\n            </div>\n        </transition>\n        </div>\n    </transition>\n</div>\n</template>\n\n\n<script>\nimport axios from 'axios'\nimport Fuse from 'fuse.js'\n\nexport default {\n    name: \"SearchPanel\",\n    data: function () {\n        return {\n            visible: true,\n            search: '',\n            results: [],\n            filteredResults: [],\n            searchResultsVisible: false,\n            }\n    },\n    methods: {\n        hide: function() {\n            this.visible = false;\n        },\n        show: function() {\n            this.visible = true;\n        },\n\n        filterResults: function() {\n            var fuseOptions = {\n                keys: [{\n                    name: 'name',\n                    weight: 1\n                },\n                {\n                    name: 'cuisine',\n                    weight: 0.5\n                }]\n            }\n            var fuse = new Fuse(this.results, fuseOptions)\n            this.filteredResults = fuse.search(this.search)\n        },\n\n    },\n    mounted: function() {\n           axios.get('http://127.0.0.1:8000/api/restaurants/')\n                .then((response) => {\n                    this.results = response.data.results;\n                });\n    },\n};\n</script>\n\n\n<style>\n\n.result-wrapper {\n    background: rgba(255, 255, 255, 0.8);\n\n    position: absolute;\n    margin-left: 48px;\n    width: 80%;\n    list-style-type: none;\n    transform-origin: top;\n    transition: transform .3s ease-in-out;\n    overflow: hidden;\n    border-radius: 36px;\n}\n\n#venuesAroundButton {\n    position: absolute;\n    margin-left: -120px;\n    top: 80px;\n    background: #ffb101;\n}\n\na {\n    cursor: pointer;\n}\n\n\n/* <transitions> */\n.slide-enter, .slide-leave-to{\n  transform: scaleY(0);\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .2s;\n}\n\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n/* </transitions> */\n</style>\n"]}]}