{"remainingRequest":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grgr/Projects/tapstr/tapstr-web-app_current/src/components/UserMainScreen.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/src/components/UserMainScreen.vue","mtime":1560516170576},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#userMainScreen {\n  width: 100%;\n  /* TODO: Increasing height results in increasing margin-top. Don't know why. Figure it out.*/\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n}\n\n#userImage {\n  width: 64px;\n  height: 64px;\n  border-radius: 50%;\n  position: absolute;\n  background: #ffffff;\n  z-index: 99;\n  left: 40px;\n  top: 64px;\n  background-image: url('https://tapstr-files.s3.eu-central-1.amazonaws.com/images/menu/avocado.jpg');\n  background-size: cover;\n  background-repeat: no-repeat;\n  /* border-radius */\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  border-radius: 50%;\n  /* box-shadow */\n  -webkit-box-shadow: rgba(0,0,0,0.8) 0px 0 10px;\n  -moz-box-shadow: rgba(0,0,0,0.8) 0 0 10px;\n  box-shadow: rgba(0,0,0,0.8) 0 0 10px;\n}\n\n#userImage:hover {\n  cursor: pointer;\n}\n\n#routerView {\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 999;\n}\n\n.gMap {\n  position: absolute;\n  z-index: 98;\n}\n\n.searchPanel {\n  position: absolute;\n  z-index: 99;\n  margin-left: auto;\n  margin-right: auto;\n\n}\n\n.loginForm {\n    position: relative;\n    z-index: 100;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .2s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n\n\n",{"version":3,"sources":["UserMainScreen.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"UserMainScreen.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <b-container fluid id=\"userMainScreen\">\n\n      <div @click=\"toggleSidebar()\" id=\"userImage\"></div>\n      <sidebar ref=\"sidebar\"></sidebar>\n\n      <transition name=\"fade\" mode=\"out-in\">\n        <search-panel id=\"searchPanel\" v-if=\"searchVisible\" v-on:click.native=\"hideSidebar()\" class=\"searchPanel\"></search-panel>\n      </transition>\n\n      <google-map v-on:click.native=\"hideSidebar()\" @mapZoomClose=\"removeSearch()\" @mapZoomFar=\"displaySearch()\" class=\"gMap\" ref=\"gmap\" name=\"example\"></google-map>\n\n      <transition name=\"fade\" mode=\"out-in\">\n          <router-view></router-view>\n      </transition>\n\n  </b-container>\n</template>\n\n<script>\nimport SearchPanel from './Search.vue'\nimport GoogleMap from './Map.vue'\nimport Sidebar from './Sidebar.vue'\nimport { Auth } from 'aws-amplify'\nimport { AmplifyEventBus } from 'aws-amplify-vue'\n\nexport default {\n  name: 'UserMainScreen',\n  components: {\n    SearchPanel,\n    GoogleMap,\n    Sidebar,\n  },\n  data: function () {\n        return {\n          visible: true,\n          searchVisible : true,\n          mapVisible: true,\n\n          user: Object,\n          session: Object,\n          signedIn: false,\n        }\n  },\n  computed: {\n    userEmail: function() { return this.user.getAttributes().getEmail() }\n  },\n  created() {\n    this.findUser();\n    AmplifyEventBus.$on('authState', info => {\n      if(info === \"signedIn\") {\n        this.findUser();\n      } else {\n        this.signedIn = false;\n      }\n    });\n  },\n\n  methods: {\n    async findUser() {\n      try {\n        /*\n          TODO:\n          appending\n          .then((data) => console.log(data)) or\n          .catch((err) => console.log('err ' + err));\n          to Auth.currentAuthenticatedUser()\n          results in this.user staying undefined\n          why?\n        */\n        this.user = await Auth.currentAuthenticatedUser();\n        this.signedIn = true;\n        console.log(this.user);\n        console.log(this.user.attributes.email);\n\n        this.session = await Auth.currentSession();\n        console.log(this.session);\n      } catch (err) {\n        console.log(err)\n        this.signedIn = false;\n      }\n    },\n\n    toggleSidebar: function() {\n      this.$refs.sidebar.toggle();\n    },\n    hideSidebar: function() {\n      this.$refs.sidebar.hide();\n    },\n    removeSearch: function() {\n      /* TODO: replace with a transition later */\n      this.searchVisible = false;\n    },\n    displaySearch: function() {\n      /* TODO: replace with a transition later */\n      this.searchVisible = true;\n    },\n\n  },\n\n  watch: {\n  '$route' (to, from) {\n    const toDepth = to.path.split('/').length\n    const fromDepth = from.path.split('/').length\n    if (toDepth > fromDepth) {\n\n    }\n    }\n  }\n};\n</script>\n\n<style>\n\n#userMainScreen {\n  width: 100%;\n  /* TODO: Increasing height results in increasing margin-top. Don't know why. Figure it out.*/\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n}\n\n#userImage {\n  width: 64px;\n  height: 64px;\n  border-radius: 50%;\n  position: absolute;\n  background: #ffffff;\n  z-index: 99;\n  left: 40px;\n  top: 64px;\n  background-image: url('https://tapstr-files.s3.eu-central-1.amazonaws.com/images/menu/avocado.jpg');\n  background-size: cover;\n  background-repeat: no-repeat;\n  /* border-radius */\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  border-radius: 50%;\n  /* box-shadow */\n  -webkit-box-shadow: rgba(0,0,0,0.8) 0px 0 10px;\n  -moz-box-shadow: rgba(0,0,0,0.8) 0 0 10px;\n  box-shadow: rgba(0,0,0,0.8) 0 0 10px;\n}\n\n#userImage:hover {\n  cursor: pointer;\n}\n\n#routerView {\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 999;\n}\n\n.gMap {\n  position: absolute;\n  z-index: 98;\n}\n\n.searchPanel {\n  position: absolute;\n  z-index: 99;\n  margin-left: auto;\n  margin-right: auto;\n\n}\n\n.loginForm {\n    position: relative;\n    z-index: 100;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .2s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n\n\n</style>\n"]}]}