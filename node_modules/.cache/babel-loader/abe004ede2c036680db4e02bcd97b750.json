{"remainingRequest":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/babel-loader/lib/index.js!/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grgr/Projects/tapstr/tapstr-web-app/src/components/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/src/components/Search.vue","mtime":1559930244198},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport Fuse from 'fuse.js';\nexport default {\n  name: \"SearchPanel\",\n  data: function data() {\n    return {\n      visible: true,\n      search: '',\n      results: [],\n      filteredResults: [],\n      searchResultsVisible: false\n    };\n  },\n  methods: {\n    hide: function hide() {\n      this.visible = false;\n    },\n    show: function show() {\n      this.visible = true;\n    },\n    filterResults: function filterResults() {\n      var fuseOptions = {\n        keys: [{\n          name: 'name',\n          weight: 1\n        }, {\n          name: 'cuisine',\n          weight: 0.5\n        }]\n      };\n      var fuse = new Fuse(this.results, fuseOptions);\n      this.filteredResults = fuse.search(this.search);\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    axios.get('http://127.0.0.1:8000/api/restaurants/').then(function (response) {\n      _this.results = response.data.results;\n    });\n  }\n};",{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,IAAA,MAAA,SAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,eAAA,EAAA,EAJA;AAKA,MAAA,oBAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,IAAA,EAAA,gBAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,KAHA;AAIA,IAAA,IAAA,EAAA,gBAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,KANA;AAQA,IAAA,aAAA,EAAA,yBAAA;AACA,UAAA,WAAA,GAAA;AACA,QAAA,IAAA,EAAA,CAAA;AACA,UAAA,IAAA,EAAA,MADA;AAEA,UAAA,MAAA,EAAA;AAFA,SAAA,EAIA;AACA,UAAA,IAAA,EAAA,SADA;AAEA,UAAA,MAAA,EAAA;AAFA,SAJA;AADA,OAAA;AAUA,UAAA,IAAA,GAAA,IAAA,IAAA,CAAA,KAAA,OAAA,EAAA,WAAA,CAAA;AACA,WAAA,eAAA,GAAA,IAAA,CAAA,MAAA,CAAA,KAAA,MAAA,CAAA;AACA;AArBA,GAXA;AAmCA,EAAA,OAAA,EAAA,mBAAA;AAAA;;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,wCAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,KAHA;AAIA;AAxCA,CAAA","sourcesContent":["<template>\n<div id=\"search-panel\">\n    <div class=\"search-wrapper\">\n        <transition name=\"slide\">\n            <input class=\"tapstr-input search-input \" type=\"text\" v-model=\"search\" placeholder=\"Search restaurants\"\n            @focus=\"searchResultsVisible = true\" @blur=\"searchResultsVisible = false\"\n            @keydown=\"filterResults()\"\n            />\n        </transition>\n    </div>\n    <transition name=\"slide\">\n        <div v-if=\"this.searchResultsVisible\" class=\"result-wrapper\">\n            <transition name=\"fade\">\n            <div v-for=\"result in filteredResults\" v-bind:key=\"result.id\">\n                <a target=\"_blank\">\n                <small>{{ result.name }}</small>\n                {{ result.rating_text }}\n                </a>\n            </div>\n        </transition>\n        </div>\n    </transition>\n\n    <transition name=\"fade\">\n        <b-button v-if=\"!this.searchResultsVisible\" id=\"venuesAroundButton\" class=\"rounded-pill\">Restaurants around me</b-button>\n    </transition>\n</div>\n</template>\n\n\n<script>\nimport axios from 'axios'\nimport Fuse from 'fuse.js'\n\nexport default {\n    name: \"SearchPanel\",\n    data: function () {\n        return {\n            visible: true,\n            search: '',\n            results: [],\n            filteredResults: [],\n            searchResultsVisible: false,\n            }\n    },\n    methods: {\n        hide: function() {\n            this.visible = false;\n        },\n        show: function() {\n            this.visible = true;\n        },\n\n        filterResults: function() {\n            var fuseOptions = {\n                keys: [{\n                    name: 'name',\n                    weight: 1\n                },\n                {\n                    name: 'cuisine',\n                    weight: 0.5\n                }]\n            }\n            var fuse = new Fuse(this.results, fuseOptions)\n            this.filteredResults = fuse.search(this.search)\n        },\n\n    },\n    mounted: function() {\n           axios.get('http://127.0.0.1:8000/api/restaurants/')\n                .then((response) => {\n                    this.results = response.data.results;\n                });\n    },\n};\n</script>\n\n\n<style>\n\n\n.search-input {\n    width: 432px;\n    height: 40px;\n    border-radius: 36px;\n\n}\n\n.search-input:focus {\n  width: 100% !important;\n  outline-width: 0 !important;\n}\n\n.result-wrapper {\n    background: rgba(255, 255, 255, 0.8);\n\n    position: absolute;\n    margin-left: 48px;\n    width: 80%;\n    list-style-type: none;\n    transform-origin: top;\n    transition: transform .3s ease-in-out;\n    overflow: hidden;\n    border-radius: 36px;\n}\n\n#venuesAroundButton {\n    position: absolute;\n    margin-left: -120px;\n    top: 80px;\n    background: #ffb101;\n}\n\na {\n    cursor: pointer;\n}\n\n\n/* <transitions> */\n.slide-enter, .slide-leave-to{\n  transform: scaleY(0);\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .2s;\n}\n\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n/* </transitions> */\n</style>\n"],"sourceRoot":"src/components"}]}