{"remainingRequest":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/babel-loader/lib/index.js!/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grgr/Projects/tapstr/tapstr-web-app_current/src/components/UserAccount.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/src/components/UserAccount.vue","mtime":1560967208621},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/grgr/Projects/tapstr/tapstr-web-app_current/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { Auth } from 'aws-amplify';\nimport { AmplifyEventBus } from 'aws-amplify-vue';\nexport default {\n  name: 'UserAccount',\n  data: function data() {\n    return {\n      isLoading: false,\n      user: {\n        name: \"Foody Fooderson\",\n        email: \"boris@borya.com\",\n        phone_number: \"8789\",\n        city: \"Warsaw\"\n      }\n    };\n  },\n  computed: {\n    userClient: function userClient() {\n      return this.$store.getters.userClient;\n    },\n    userSession: function userSession() {\n      return this.$store.getters.userSession;\n    },\n    userEmail: function userEmail() {\n      return this.$store.getters.isUserSignedIn ? this.$store.getters.userClient.attributes.email : \"foody@fooderson.fo\";\n    },\n    userPhoneNumber: function userPhoneNumber() {\n      return this.$store.getters.isUserSignedIn ? this.$store.getters.userClient.attributes.phone_number : \"empty\";\n    }\n  },\n  created: function created() {\n    this.user.email = this.userEmail;\n    this.user.phone_number = this.userPhoneNumber;\n  },\n  methods: {\n    submitUserData: function submitUserData() {\n      var that = this;\n      that.isLoading = true;\n      var headers = {\n        'Content-Type': 'application/json',\n        'Authorization': this.userSession.getIdToken().getJwtToken()\n      };\n      axios.post('https://axqeajmn83.execute-api.eu-central-1.amazonaws.com/dev/user-profile', that.user, {\n        headers: headers\n      }).then(function (response) {\n        that.isLoading = false;\n        console.log(response);\n      });\n    },\n    getUserData: function getUserData() {\n      var that = this;\n      var headers = {\n        'Content-Type': 'application/json',\n        'Authorization': this.userSession.getIdToken().getJwtToken()\n      };\n      axios.get('https://axqeajmn83.execute-api.eu-central-1.amazonaws.com/dev/user-profile?accessToken=' + this.userSession.getAccessToken().getJwtToken(), {\n        headers: headers\n      }).then(function (response) {\n        console.log(response.data);\n      });\n    },\n    deleteUserData: function () {\n      var _deleteUserData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var headers;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                headers = {\n                  'Content-Type': 'application/json',\n                  'Authorization': this.userSession.getIdToken().getJwtToken()\n                };\n                axios.delete('https://axqeajmn83.execute-api.eu-central-1.amazonaws.com/dev/user-profile?accessToken=' + this.userSession.getAccessToken().getJwtToken(), {\n                  headers: headers\n                }).then(function (response) {\n                  console.log(response.data);\n                });\n                this.$store.commit('changeUserClient', undefined);\n                this.$store.commit('changeUserSession', undefined);\n                _context.t0 = console;\n                _context.next = 7;\n                return Auth.signOut();\n\n              case 7:\n                _context.t1 = _context.sent;\n\n                _context.t0.log.call(_context.t0, _context.t1);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function deleteUserData() {\n        return _deleteUserData.apply(this, arguments);\n      }\n\n      return deleteUserData;\n    }()\n  }\n};",{"version":3,"sources":["UserAccount.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAoBA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,IAAA,QAAA,aAAA;AACA,SAAA,eAAA,QAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAGA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA,iBADA;AAEA,QAAA,KAAA,EAAA,iBAFA;AAGA,QAAA,YAAA,EAAA,MAHA;AAIA,QAAA,IAAA,EAAA;AAJA;AAHA,KAAA;AAUA,GAbA;AAcA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,UAAA;AAAA,KADA;AAEA,IAAA,WAFA,yBAEA;AAAA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,WAAA;AAAA,KAFA;AAGA,IAAA,SAHA,uBAGA;AAAA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,cAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,UAAA,CAAA,KAAA,GAAA,oBAAA;AAAA,KAHA;AAIA,IAAA,eAJA,6BAIA;AAAA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,cAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,UAAA,CAAA,YAAA,GAAA,OAAA;AAAA;AAJA,GAdA;AAoBA,EAAA,OApBA,qBAoBA;AACA,SAAA,IAAA,CAAA,KAAA,GAAA,KAAA,SAAA;AACA,SAAA,IAAA,CAAA,YAAA,GAAA,KAAA,eAAA;AACA,GAvBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,IAAA,CAAA,SAAA,GAAA,IAAA;AAEA,UAAA,OAAA,GAAA;AACA,wBAAA,kBADA;AAEA,yBAAA,KAAA,WAAA,CAAA,UAAA,GAAA,WAAA;AAFA,OAAA;AAKA,MAAA,KAAA,CAAA,IAAA,CAAA,4EAAA,EAAA,IAAA,CAAA,IAAA,EAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,IAAA,CAAA,SAAA,GAAA,KAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,OAJA;AAKA,KAfA;AAgBA,IAAA,WAhBA,yBAgBA;AACA,UAAA,IAAA,GAAA,IAAA;AAEA,UAAA,OAAA,GAAA;AACA,wBAAA,kBADA;AAEA,yBAAA,KAAA,WAAA,CAAA,UAAA,GAAA,WAAA;AAFA,OAAA;AAKA,MAAA,KAAA,CAAA,GAAA,CAAA,4FACA,KAAA,WAAA,CAAA,cAAA,GAAA,WAAA,EADA,EACA;AAAA,QAAA,OAAA,EAAA;AAAA,OADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA;AACA,OAJA;AAKA,KA7BA;AA8BA,IAAA,cA9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BA,gBAAA,OA/BA,GA+BA;AACA,kCAAA,kBADA;AAEA,mCAAA,KAAA,WAAA,CAAA,UAAA,GAAA,WAAA;AAFA,iBA/BA;AAoCA,gBAAA,KAAA,CAAA,MAAA,CAAA,4FACA,KAAA,WAAA,CAAA,cAAA,GAAA,WAAA,EADA,EACA;AAAA,kBAAA,OAAA,EAAA;AAAA,iBADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AAAA,kBAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA;AAAA,iBAFA;AAKA,qBAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,SAAA;AACA,qBAAA,MAAA,CAAA,MAAA,CAAA,mBAAA,EAAA,SAAA;AA1CA,8BA4CA,OA5CA;AAAA;AAAA,uBA4CA,IAAA,CAAA,OAAA,EA5CA;;AAAA;AAAA;;AAAA,4BA4CA,GA5CA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAxBA,CAAA","sourcesContent":["<template>\n    <b-container fluid id=\"userAccountSection\" style=\"width: 100vw;\">\n            <b-row>\n                <b-col cols=\"4\" align-self=\"center\">\n                    <img id=\"userPicture\" style=\"width: 128px; height: 128px;\" src=\"https://tapstr-files.s3.eu-central-1.amazonaws.com/images/menu/oranges.jpg\" alt=\"User Picture\" class=\"m-2\">\n                </b-col>\n                <b-col cols=\"4\" >\n                    <div id=\"userAccountInfo\" align-self=\"center\">\n      \n                    </div>\n                </b-col>\n                <b-col cols=\"4\" style=\"padding: 24px;\">\n                    <a @click=\"$router.go(-1)\"><font-awesome-icon icon=\"times\"/></a>\n                </b-col>\n            </b-row>\n    </b-container>\n</template>\n\n\n<script>\nimport axios from 'axios'\nimport { Auth } from 'aws-amplify'\nimport { AmplifyEventBus } from 'aws-amplify-vue'\n\nexport default {\n    name: 'UserAccount',\n    data: function() {\n        return {\n            isLoading: false,\n\n            user: {\n                name: \"Foody Fooderson\",\n                email: \"boris@borya.com\",\n                phone_number: \"8789\",\n                city: \"Warsaw\"\n            },\n        }\n    },\n    computed: {\n        userClient() { return this.$store.getters.userClient },\n        userSession() { return this.$store.getters.userSession },\n        userEmail() { return this.$store.getters.isUserSignedIn ? this.$store.getters.userClient.attributes.email : \"foody@fooderson.fo\"},\n        userPhoneNumber() { return this.$store.getters.isUserSignedIn ? this.$store.getters.userClient.attributes.phone_number : \"empty\"},\n    },\n    created() {\n        this.user.email = this.userEmail;\n        this.user.phone_number = this.userPhoneNumber;\n    },\n    methods: {\n           submitUserData() {\n                var that = this;\n                that.isLoading = true;\n\n                var headers = {\n                    'Content-Type': 'application/json',\n                    'Authorization': this.userSession.getIdToken().getJwtToken(),\n                }\n\n                axios.post('https://axqeajmn83.execute-api.eu-central-1.amazonaws.com/dev/user-profile', that.user, { headers: headers })\n                    .then((response) => {\n                        that.isLoading = false;\n                        console.log(response);\n                    });\n                },\n            getUserData() {\n                var that = this;\n\n                var headers = {\n                    'Content-Type': 'application/json',\n                    'Authorization': this.userSession.getIdToken().getJwtToken(),\n                };\n\n                axios.get('https://axqeajmn83.execute-api.eu-central-1.amazonaws.com/dev/user-profile?accessToken='\n                + this.userSession.getAccessToken().getJwtToken(), { headers: headers })\n                    .then((response) => {\n                        console.log(response.data);\n                    });\n            },\n            async deleteUserData() {\n                 var headers = {\n                    'Content-Type': 'application/json',\n                    'Authorization': this.userSession.getIdToken().getJwtToken(),\n                };\n\n                axios.delete('https://axqeajmn83.execute-api.eu-central-1.amazonaws.com/dev/user-profile?accessToken='\n                + this.userSession.getAccessToken().getJwtToken(), { headers: headers })\n                    .then((response) => { console.log(response.data) });\n\n\n                this.$store.commit('changeUserClient', undefined);\n                this.$store.commit('changeUserSession', undefined);\n\n                console.log(await Auth.signOut());\n            }\n    }\n};\n</script>\n\n\n<style>\n#userAccountSection {\n    background-color: #e3e3e3;\n    z-index: 100;\n}\n\n#userAccountInfo {\n    padding: 12px;\n    box-shadow: 0 0 10px #a0a0a0;\n    background-color: #cecece;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n}\n</style>\n"],"sourceRoot":"src/components"}]}