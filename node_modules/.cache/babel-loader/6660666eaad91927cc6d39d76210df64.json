{"remainingRequest":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/babel-loader/lib/index.js!/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grgr/Projects/tapstr/tapstr-web-app/src/components/Map.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/src/components/Map.vue","mtime":1559823818480},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-web-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\nexport default {\n  name: 'GoogleMap',\n  props: ['name'],\n  data: function data() {\n    return {\n      mapName: this.name + \"-map\",\n      userLatitude: 0,\n      userLongitude: 0,\n      map: null,\n      mapZoom: 14\n    };\n  },\n  methods: {\n    initMap: function initMap() {\n      var _this = this;\n\n      if (navigator.geolocation) {\n        var element = document.getElementById(this.mapName);\n        var options = {\n          zoom: 15,\n          center: new google.maps.LatLng(52.237049, 21.017532),\n          disableDefaultUI: true\n        };\n        this.map = new google.maps.Map(element, options);\n        navigator.geolocation.getCurrentPosition(function (position) {\n          /* Get geolocation. */\n          _this.userLatitude = position.coords.latitude;\n          _this.userLongitude = position.coords.longitude;\n          /* Initialize google maps based on the location. */\n\n          var element = document.getElementById(_this.mapName);\n          var options = {\n            zoom: 14,\n            center: new google.maps.LatLng(_this.userLatitude, _this.userLongitude),\n            disableDefaultUI: true,\n\n            /* TODO make it into a separete variable */\n            styles: [{\n              \"featureType\": \"poi\",\n              \"stylers\": [{\n                \"visibility\": \"off\"\n              }]\n            }, {\n              featureType: 'transit',\n              elementType: 'labels.icon',\n              stylers: [{\n                visibility: 'off'\n              }]\n            }]\n          };\n          _this.map = new google.maps.Map(element, options);\n          /*map.addListener('zoom_changed', function() {\n              infowindow.setContent('Zoom: ' + this.map.getZoom());\n          });*/\n\n          var that = _this;\n\n          _this.map.addListener('zoom_changed', function () {\n            /* this keyword is this.map here */\n            that.mapZoom = this.getZoom();\n          });\n        });\n      } else {\n        alert(\"Geolocation is not supported by this browser.\");\n        var element = document.getElementById(this.mapName);\n        var options = {\n          zoom: 14,\n          center: new google.maps.LatLng(52.237049, 21.017532),\n          disableDefaultUI: true,\n\n          /* TODO make it into a separete variable */\n          styles: [{\n            \"featureType\": \"poi\",\n            \"stylers\": [{\n              \"visibility\": \"off\"\n            }]\n          }, {\n            featureType: 'transit',\n            elementType: 'labels.icon',\n            stylers: [{\n              visibility: 'off'\n            }]\n          }]\n        };\n        this.map = new google.maps.Map(element, options);\n        var that = this;\n        this.map.addListener('zoom_changed', function () {\n          /* this keyword is this.map here */\n          that.mapZoom = this.getZoom();\n        });\n      }\n    }\n  },\n  watch: {\n    mapZoom: function mapZoom() {\n      this.mapZoom > 14 ? this.$emit('mapZoomClose') : this.$emit('mapZoomFar');\n    }\n  },\n  mounted: function mounted() {\n    this.initMap();\n  }\n};",{"version":3,"sources":["Map.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"google-map\" :id=\"mapName\"></div>\n</template>\n\n\n<script >\nexport default {\n\n    name: 'GoogleMap',\n\n    props: ['name'],\n\n    data: function () {\n        return {\n            mapName: this.name + \"-map\",\n            userLatitude: 0,\n            userLongitude: 0,\n            map: null,\n            mapZoom: 14,\n        }\n    },\n\n    methods: {\n        initMap: function () {\n            if (navigator.geolocation) {\n                var element = document.getElementById(this.mapName);\n                    var options = {\n                        zoom: 15,\n                        center: new google.maps.LatLng(52.237049, 21.017532),\n                        disableDefaultUI: true,\n                    };\n                    this.map = new google.maps.Map(element, options);\n                navigator.geolocation.getCurrentPosition((position) => {\n                    /* Get geolocation. */\n                    this.userLatitude = position.coords.latitude;\n                    this.userLongitude = position.coords.longitude;\n\n                    /* Initialize google maps based on the location. */\n                    var element = document.getElementById(this.mapName);\n                    var options = {\n                        zoom: 14,\n                        center: new google.maps.LatLng(this.userLatitude, this.userLongitude),\n                        disableDefaultUI: true,\n\n                        /* TODO make it into a separete variable */\n                        styles: [\n                            {\n                                \"featureType\": \"poi\",\n                                \"stylers\": [\n                                    { \"visibility\": \"off\" }\n                                ]\n                            },\n                            {\n                                featureType: 'transit',\n                                elementType: 'labels.icon',\n                                stylers: [{visibility: 'off'}]\n                            },\n                        ]\n                    };\n                    this.map = new google.maps.Map(element, options);\n                    /*map.addListener('zoom_changed', function() {\n                        infowindow.setContent('Zoom: ' + this.map.getZoom());\n                    });*/\n\n                    let that = this;\n                    this.map.addListener('zoom_changed', function() {\n                        /* this keyword is this.map here */\n                        that.mapZoom = this.getZoom();\n                    });\n                });\n            } else {\n                alert(\"Geolocation is not supported by this browser.\");\n                var element = document.getElementById(this.mapName);\n                    var options = {\n                        zoom: 14,\n                        center: new google.maps.LatLng(52.237049, 21.017532),\n                        disableDefaultUI: true,\n\n                        /* TODO make it into a separete variable */\n                        styles: [\n                            {\n                                \"featureType\": \"poi\",\n                                \"stylers\": [\n                                    { \"visibility\": \"off\" }\n                                ]\n                            },\n                            {\n                                featureType: 'transit',\n                                elementType: 'labels.icon',\n                                stylers: [{visibility: 'off'}]\n                            },\n                        ]\n                    };\n                    this.map = new google.maps.Map(element, options);\n\n                    let that = this;\n                    this.map.addListener('zoom_changed', function() {\n                        /* this keyword is this.map here */\n                        that.mapZoom = this.getZoom();\n                    });\n\n            }\n\n        },\n    },\n\n    watch: {\n        mapZoom: function() {\n            this.mapZoom > 14 ? this.$emit('mapZoomClose') : this.$emit('mapZoomFar');\n        }\n    },\n\n    mounted: function() {\n        this.initMap();\n    }\n};\n</script>\n\n\n<style>\n.google-map {\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n  background: gray;\n}\n</style>\n"],"sourceRoot":"src/components"}]}